# PROJECT_OVERVIEW.md

## 1. 프로젝트 개요

### 1.1 서비스 이름과 의미

* **서비스 이름:** ASHD
* **풀네임:** Almost Service Handling Disorder
* **의미:**

  * ADHD처럼 "관리/정리가 잘 안 되는 사람"을 유머러스하게 빗댄 이름입니다.
  * AS(After Service), 환불, 보증 기간 같은 "사후 처리"가 잘 안 챙겨지는 사람들을 돕는다는 메시지를 담고 있습니다.

### 1.2 한 줄 정의

> **ASHD는** 영수증·택배라벨·보증서 이미지/PDF를 업로드하면,
> 구매일/금액/구매처/보증·환불 기한을 자동으로 정리하고,
> 이메일·텔레그램 알림으로 AS/환불/보증 기간을 제때 챙기도록 돕는 웹 서비스(MVP)입니다.

---

## 2. 해결하려는 문제

### 2.1 현재 사용자들이 겪는 불편

대부분의 사람들은 다음과 같은 문제를 겪습니다.

* 전자제품·가전·온라인 쇼핑을 자주 하지만,

  * **영수증/보증서를 어디에 뒀는지 기억 못 함**
  * 보증 기간이 끝난 뒤에서야 "아, 그때만 해도 무상 AS였는데"를 떠올림
  * 환불 가능한 기간을 놓쳐서, 단순 변심/초기 불량인데도 환불에 실패
* 기존 가계부 앱이나 택배 조회 앱은 다음에 초점을 맞춤

  * "언제, 어디서, 얼마를 썼는지" = 소비 기록/예산 관리
  * "지금 내 택배가 어디쯤 와 있는지" = 배송 상태 추적
* **하지만** "구매 이후 1년, 2년 동안 유지되는 보증/AS/환불권"을 체계적으로 관리하는 도구는 거의 없습니다.

### 2.2 문제 정의

1. 사용자는 **AS/환불/보증 관련 정보를 흩어놓고 잊어버린다**

   * 이메일, 카카오톡, 종이 영수증, 박스에 붙은 스티커 등 여러 채널에 정보가 분산
2. 보증/환불 기한은 **시간이 지나야 의미가 드러나는 정보**다

   * 구매 직후에는 별로 신경 쓰지 않다가, 문제가 생기면 그때서야 찾기 시작
3. 대부분의 앱은 "지출"과 "배송"에는 강하지만,

   * **"사후 서비스 권리"(AS/환불/보증)를 관리하는 데에는 취약**

ASHD는 이 공백을 채우는 서비스입니다.

---

## 3. 핵심 가치 제안 (Value Proposition)

### 3.1 사용자에게 주는 핵심 이득

* "어디에 뒀더라?" 하고 이리저리 뒤질 필요 없이,

  * **한 곳에서 영수증/보증 정보를 찾을 수 있음**
* AS/환불/보증 기한을 스스로 기억하지 않아도,

  * **이메일/텔레그램 알림으로 알아서 리마인드**
* 결과적으로,

  * 환불/교환/AS 기회를 놓치는 일을 줄이고,
  * 불필요한 비용 손실을 줄임

### 3.2 차별화 포인트

* 기존 가계부/자산 관리 앱과의 차별화

  * 지출/예산/통계가 아니라 **"사후 서비스"에 특화**
  * "얼마 썼나"보다 "언제까지 보호받는가"에 초점
* 택배 조회/쇼핑몰 앱과의 차별화

  * 배송 완료 후에도 **오랫동안 유효한 정보(보증/AS)를 관리**
  * 쇼핑몰/브랜드를 넘나드는 **통합 AS/보증 관리**에 초점
* 단순 메모/노트 앱과의 차별화

  * 이미지·텍스트 기반 데이터를 구조화하여

    * 날짜/금액/보증 종료일/환불 마감일 등 **필드를 기준으로 정렬/검색/알림** 제공

---

## 4. 타겟 사용자와 주요 사용 시나리오

### 4.1 타겟 사용자

1. 전자제품/가전을 자주 구매하는 사람

   * 모니터, 노트북, 스마트폰, TV, 공기청정기, 청소기 등
2. 온라인 쇼핑 빈도가 높은 사람

   * 쿠팡/11번가/G마켓 등에서 자주 주문하는 사용자
3. "정리는 잘 안 되지만, 한 번에 모아두면 잘 쓰는" 유형

   * 영수증/보증서 사진을 그냥 찍어두고 나중에 찾기 힘들어하는 사람
4. 특히, ADHD 성향 또는 비슷한 생활 패턴을 가진 사람

   * 뒤늦게 "아 맞다…" 떠올리는 경우가 잦은 사용자

### 4.2 주요 사용 시나리오 (User Stories 관점)

* **시나리오 1 – 새 전자제품 구매**

  1. 사용자가 새 모니터를 구매하고, 영수증 또는 보증서를 사진으로 찍거나 PDF로 받는다.
  2. ASHD 웹에 접속해서 이미지/PDF를 업로드한다.
  3. 서버는 **외부 OCR API**를 호출해 텍스트를 얻고, 결과를 저장/정리한다.
  4. 사용자는 잘못된 부분을 수정한다.
  5. 사용자는 보증 기간(예: 2년)과 환불 가능 기간(예: 구매 후 14일)을 입력/확인한다.
  6. 이후 AS/환불/보증 관련 정보는 ASHD에서 언제든지 확인 가능하다.

* **시나리오 2 – 환불 기한 임박 알림**

  1. 사용자는 인터넷으로 이어폰을 구매하고, ASHD에 등록하였다.
  2. 환불/교환 가능 기한이 구매 후 7일이라고 설정되어 있다.
  3. 만약 4일째 되는 날, 사용자가 제품 이슈를 느끼면

     * ASHD가 D-3 시점에 이메일/텔레그램으로 "환불 마감이 3일 남았다"는 알림을 보낸다.
  4. 사용자는 기한 내에 환불/교환 여부를 결정할 수 있다.

* **시나리오 3 – 보증 종료 전 리마인드**

  1. 사용자는 2년 보증의 공기청정기를 구매했다.
  2. ASHD에 보증기간 정보를 등록해 두었다.
  3. 보증 종료 30일 전과 7일 전에 이메일/텔레그램으로 알림을 받는다.
  4. 이 시점에 제품 이상 증상이 있으면, 사용자 입장에서 "마지막 무상 AS 기회"를 활용할 수 있다.

---

## 5. v0.1 (MVP) 기능 범위

ASHD v0.1에서는 다음 기능들만을 **명확히 범위로 포함**합니다.

### 5.1 포함 기능 (Must Have)

1. **제품/문서 등록**

   * 영수증/택배라벨/보증서 이미지/PDF 업로드
   * OCR 텍스트 저장(외부 OCR API 결과를 서버에 저장)
   * 업로드는 202 + job_id로 즉시 응답하고, OCR/추출은 백그라운드 처리
   * 기본 필드 파싱 (구매일, 금액, 구매처 등) + 누락 시 LLM(Solar API) 보완 + 사용자 수동 수정

2. **제품/문서 관리 UI (웹)**

   * 로그인한 사용자의 제품 목록 조회 (리스트/카드 형태)
   * 제품 상세 화면에서 다음 정보 확인 가능:

     * 제품명, 카테고리
     * 구매일, 구매처, 금액
     * 보증 종료일, 환불 마감일
     * AS 연락처 (선택)

3. **보증/환불 기한 관리**

   * 각 제품에 대해

     * `purchase_date`, `warranty_end_date`, `refund_deadline` 필드 관리
   * 보증/환불 상태 표시

     * 예: "보증 남음", "보증 임박", "보증 만료"
     * 예: "환불 가능", "환불 임박", "환불 만료"

4. **알림 시스템 (이메일 + 텔레그램)**

   * 매일 1회 스케줄러 실행
   * 오늘 날짜 기준:

     * 보증 종료 D-30 / D-7 / D-3 등 임박 항목 조회
     * 환불 마감 D-3 임박 항목 조회
   * 이메일로 요약 알림 발송
   * 텔레그램 봇을 연동한 사용자에게 텔레그램 메시지 발송

5. **기본 계정/인증 기능**

   * 이메일 + 비밀번호 기반 간단한 회원가입/로그인
   * 각 사용자의 데이터는 본인만 접근 가능 (다른 사용자와 분리)

### 5.2 제외 기능 (Not in v0.1)

* 가계부/예산/자산 관리 기능 (총 소비, 카테고리별 통계 등)
* 실시간 택배 위치 조회/알림 기능
* 결제/유료 과금 기능 (무료 MVP로 시작)
* 카카오 비즈메시지(알림톡) 연동
* Kakao "나에게 보내기" 연동 (백로그 옵션)
* LLM/RAG 기반 자연어 질의/요약 기능
  * 단, **필드 추출 보완용 LLM**은 v0.1에 포함됨
* PWA 또는 네이티브 모바일 앱 (웹 + 알림만 우선)

### 5.3 v0.2 확장 범위 (LLM/RAG-lite)

v0.2에서는 **LLM/RAG-lite 기능**을 제한적으로 도입합니다.

* 문서/제품 텍스트 기반 질문 응답 (근거 스니펫 포함)
* 키워드 기반 검색(FTS/LIKE) + 간단한 RAG-lite 흐름
* LLM 호출은 **온디맨드 + 캐시 + 쿼터**로 제한, 키가 없으면 Mock 동작 가능
* 벡터 기반 RAG는 “업그레이드 경로”만 선반영하고, 실제 대규모 임베딩은 v0.2에서 강제하지 않음

---

## 6. 비기능 요구사항 (초기)

### 6.1 단순성

* v0.1에서는 **개발자 1명이 유지보수 가능한 단순한 구조**를 최우선으로 합니다.
* 복잡한 분산 아키텍처/마이크로서비스는 사용하지 않고, 단일 FastAPI 애플리케이션과 하나의 DB로 구성합니다.

### 6.2 확장 가능성

* 이후 기능 확장을 고려하여 다음을 염두에 둡니다.

  * LangGraph 기반 문서 처리 파이프라인을 `app/graphs/` 하위에 분리
  * 알림 채널(이메일, 텔레그램, 추후 카카오 등)을 추상화된 Notifier 인터페이스로 관리
  * 데이터 모델을 `DATA_MODEL.md`와 코드에서 일관되게 유지

### 6.3 개발 환경

* Python 3.10 이상
* **uv** 기반 의존성 및 실행 환경 관리

  * `uv sync`로 의존성 설치
  * `uv run uvicorn app.main:app --reload`로 개발 서버 실행

---

## 7. 문서 및 다른 설계 파일과의 관계

이 `PROJECT_OVERVIEW.md`는 다음 문서들과 함께 사용됩니다.

* `AGENTS.md`

  * Codex/에이전트용 전역 규칙 헌법 (리포 루트에 위치)
  * 서비스 범위, 금지 영역, 스타일 가이드 정의
* `docs/SYSTEM_ARCHITECTURE.md`

  * FastAPI + LangGraph + 알림 시스템의 전체 구조 정의
* `docs/DATA_MODEL.md`

  * User, Product, NotificationSettings, TelegramAccount 등 데이터 모델 정의
* `docs/NOTIFICATION_DESIGN.md`

  * Daily Alert 파이프라인 및 이메일/텔레그램 Notifier 설계

에이전트는 기능 설계/코드 변경 시,
먼저 이 `PROJECT_OVERVIEW.md`를 통해 서비스 목적과 범위를 이해한 뒤,
아키텍처/데이터/알림 관련 세부 사항은 각각의 문서를 참조해야 합니다.
